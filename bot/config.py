"""
      ===== IU7QUIZ BOT CONFIG =====
      Copyright (C) 2020 IU7OG Team.

      –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –±–æ—Ç–∞.
"""

from math import log
from datetime import datetime
import os

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏ –±–æ—Ç–∞.
TOKEN = os.environ['TOKEN']

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è MongoDB.
DB_NAME = os.environ['DB_NAME']
DB_USER = os.environ['DB_USER']
DB_PASS = os.environ['DB_PASS']
DB_HOST = os.environ['DB_HOST']
DB_IP = os.environ['DB_IP']
HOST = f"mongodb://{DB_USER}:{DB_PASS}@{DB_HOST}:27017/{DB_NAME}"
SIDE_HOST = f"mongodb://{DB_USER}:{DB_PASS}@{DB_IP}:27017/{DB_NAME}"

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —á–∞—Å—Ç–∏ –±–æ—Ç–∞.
GROUPS_BTNS = ("–ò–£7-21–ë", "–ò–£7-22–ë", "–ò–£7-23–ë",
               "–ò–£7-24–ë", "–ò–£7-25–ë", "–ò–£7-26–ë")
ANSWERS_BTNS = {"A": 1, "B": 2, "C": 3, "D": 4}
SCROLL_BTNS = ("‚óÄÔ∏è", "‚ñ∂Ô∏è")
READY_BTN = "–ì–æ—Ç–æ–≤"
LB_MEDALS = {1: "ü•á", 2: "ü•à", 3: "ü•â"}
LB_PAGE_SIZE = 10
LECTOR_ID = 414583310 # –∑–∞–º–µ–Ω–∏—Ç—å
LIVE_Q_DELAY = 60
# –ó–¥–µ—Å—å —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∞—Ç–∞ –ø–µ—Ä–≤–æ–π –ª–µ–∫—Ü–∏–∏, –æ—Ç –Ω–µ–µ –≤–µ–¥–µ—Ç—Å—è –æ—Ç—Å—á–µ—Ç.
#FIRST_CLASS_DAY = datetime(2020, 2, 11, 8, 30)
FIRST_CLASS_DAY = datetime(2020, 2, 10, 23, 55)
CLASS_OFFSET = 14  # –í—Ä–µ–º—è –≤ –¥–Ω—è—Ö –¥–æ —Å–ª–µ–¥—É—é—â–µ–π –ª–µ–∫—Ü–∏–∏.
CLASS_DURATION = 5400  # –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ª–µ–∫—Ü–∏–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö.

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–µ–π—Ç–∏–Ω–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã.
# –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –≥–ª–∞–≤–Ω–æ–π —Ñ–æ—Ä–º—É–ª—ã.
WAITING_FACTOR = 0.35
ANSWER_TIME_FACTOR = 1 - WAITING_FACTOR
ERR_DCRMNT_FACTOR = 0.2
COMPLEXITY_FACTOR = 0.2
SYMBOLS_PER_SECOND = 25

# –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø–æ—Ç–µ—Ä–∏ –±–∞–ª–ª–æ–≤ –∑–∞ –æ–∂–∏–¥–∞–Ω–∏–µ (–∫–æ–ª-–≤–æ —á–∞—Å–æ–≤,
# –∫–æ–≥–¥–∞ –∏–∑-–∑–∞ –æ–∂–∏–¥–∞–Ω–∏—è —Ç–µ—Ä—è–µ—Ç—Å—è 50% –±–∞–ª–ª–æ–≤ –∑–∞ –æ–∂–∏–¥–∞–Ω–∏–µ).
HALF_WAITING_HOURS = 12
HALF_WAITING_FACTOR = log(2) / HALF_WAITING_HOURS

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–µ–±—Ö—É–∫–∞.

WEBHOOK_HOST = os.environ['DB_DOMAIN']
WEBHOOK_PORT = 8443
WEBHOOK_LISTEN = "0.0.0.0"

WEBHOOK_SSL_CERT = os.environ['SSL_CERT']
WEBHOOK_SSL_PRIV = os.environ['SSL_KEY']

WEBHOOK_URL_BASE = "https://{}:{}".format(WEBHOOK_HOST, WEBHOOK_PORT)
WEBHOOK_URL_PATH = "/{}/".format(TOKEN)

# –§–ª–∞–≥ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –ø–µ—á–∞—Ç–∏ (–µ—Å–ª–∏ True, —Ç–æ –æ–Ω–∞ –±—É–¥–µ—Ç)
DEV_MODE_RATING = False
DEV_MODE_QUEUE = True

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Ä–µ–º–µ–Ω–∏.
#FIRST_QUESTION_DAY = datetime(2020, 2, 11, 10, 0)
FIRST_QUESTION_DAY = datetime(2020, 2, 10, 23, 55)
LB_TIMEOUT = 20

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∞—Ä—Å–µ—Ä–∞.
RECORD_SIZE = 6
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Google Spreadsheets API.
SCOPE = ["https://spreadsheets.google.com/feeds"]
SH_CREDENTIALS = os.environ['SH_CREDENTIALS']
SH_URL = os.environ['SH_URL']

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
INFO_MSG = "üìÆ *IU7QuizBot* by IU7OG Team üìÆ\n\n" \
    "–î–∞–Ω–Ω—ã–π –±–æ—Ç –ø—Ä–µ–¥–Ω–∞–∑–∞–Ω–∞—á–µ–Ω –¥–ª—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏ –ª–µ–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ " \
    "–ø–æ –∫—É—Ä—Å—É *–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –°–∏* –≤ *–ú–ì–¢–£ –∏–º. –ù.–≠. –ë–∞—É–º–∞–Ω–∞*, " \
    "–Ω–∞ –∫–∞—Ñ–µ–¥—Ä–µ *–ò–£7*.\n\n" \
    "üõ† –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏:\n" \
    "üìç –†–æ–º–∞–Ω–æ–≤ –ê–ª–µ–∫—Å–µ–π @mRRvz\n" \
    "üìç –ü–µ—Ä–µ—Å—Ç–æ—Ä–æ–Ω–∏–Ω –ü–∞–≤–µ–ª @Justarone\n" \
    "üìç –ö–æ–Ω–æ–Ω–µ–Ω–∫–æ –°–µ—Ä–≥–µ–π @hackfeed\n" \
    "üìç –ù–∏—Ç–µ–Ω–∫–æ –ú–∏—Ö–∞–∏–ª @VASYA\_VAN\n" \
    "üìç –Ø–∫—É–±–∞ –î–º–∏—Ç—Ä–∏–π @xGULZAx\n\n" \
    "üî± –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã. 2020 –≥–æ–¥.\n" \
    "üì° [iu7og.design](https://iu7og.design) üì°\n"

RULES_MSG = "ü§Ø –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∏–≤–∞–Ω–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤:\n\n" \
    "1. –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –±–æ—Ç—É.\n\n" \
    "2. –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –≤–æ–ø—Ä–æ—Å.\n\n" \
    "3. –°–ª–æ–∂–Ω–æ—Å—Ç—å –≤–æ–ø—Ä–æ—Å–∞ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, —Å–∫–æ–ª—å–∫–æ –ª—é–¥–µ–π –æ—Ç–≤–µ—Ç–∏–ª–∏ –Ω–∞ –≤–æ–ø—Ä–æ—Å —Å 1 —Ä–∞–∑–∞).\n\n" \
    "4. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å.\n\n" \
    "‚ö†Ô∏è *–ß–µ—Ç–≤–µ—Ä—Ç—ã–π* —Ñ–∞–∫—Ç–æ—Ä –≤–µ—Å–æ–º–µ–µ *–≤—Ç–æ—Ä–æ–≥–æ*, –ø–æ—ç—Ç–æ–º—É –ª—É—á—à–µ –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏, " \
    "–Ω–æ –æ—Ç–≤–µ—Ç–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —á–µ–º –Ω–∞–æ–±–æ—Ä–æ—Ç\n\n" \
    "üí° –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –Ω–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å. " \
    "–í —Å–ª—É—á–∞–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ —Å –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–∞, " \
    "–±–æ—Ç —Å—á–∏—Ç–∞–µ—Ç, —á—Ç–æ –≤—ã —Ö–æ—Ä–æ—à–æ —É—Å–≤–æ–∏–ª–∏ —Ç–µ–º—É " \
    "–∏ –±–æ–ª—å—à–µ –Ω–µ –∑–∞–¥–∞–µ—Ç —ç—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å.\n\n" \
    "ü§î –ï—Å–ª–∏ –∂–µ —Å 1 —Ä–∞–∑–∞ –≤–∞–º –Ω–µ —É–¥–∞–µ—Ç—Å—è –æ—Ç–≤–µ—Ç–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ, " \
    "—Ç–æ —á—Ç–æ–±—ã –±–æ—Ç –∑–∞–∫–æ–Ω—á–∏–ª –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å –ø–æ–≤—Ç–æ—Ä–Ω–æ " \
    "(—Ç–∞–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –∑–∞–¥–∞—é—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –Ω–æ–≤–æ–≥–æ), –Ω—É–∂–Ω–æ " \
    "–¥–æ–∫–∞–∑–∞—Ç—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –¥–≤—É–º—è –ø–æ–¥—Ä—è–¥ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏ " \
    "–Ω–∞ —ç—Ç–æ—Ç –∂–µ –≤–æ–ø—Ä–æ—Å. "

HELP_MSG = "‚ùì –ù–µ –∑–Ω–∞–µ—Ç–µ, —á—Ç–æ –¥–µ–ª–∞—Ç—å‚ùì\n" \
    "ü•µ –í—ã –º–æ–∂–µ—Ç–µ:\n\n" \
    "1. –í—ã–∑–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É */question*, –∏ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –±–æ—Ç –±—É–¥–µ—Ç –∂–¥–∞—Ç—å –æ—Ç –≤–∞—Å –≤–æ–ø—Ä–æ—Å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—é " \
    "(–¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤–æ –≤—Ä–µ–º—è –ª–µ–∫—Ü–∏–π) üë®‚Äçüè´\n\n" \
    "2. –í—ã–∑–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É */leaderboard*, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å —Ç–µ–∫—É—â–µ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –¥–µ–ª –≤ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–∏ üîù\n\n" \
    "3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É. –ü—Ä–∞–≤–¥–∞ –ø–æ–∫–∞ –æ–Ω –Ω–µ —É–º–µ–µ—Ç –Ω–∞ –Ω–∏—Ö –æ—Ç–≤–µ—á–∞—Ç—å ‚òπÔ∏è\n\n" \
    "4. –í—ã–∑–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É */info*, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–∞–Ω–¥–µ " \
    "—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ (–≤ —Å–ª—É—á–∞–µ –∫–∞–∫–∏—Ö-—Ç–æ –ø—Ä–æ–±–ª–µ–º —Å –±–æ—Ç–æ–º - –ø–∏—à–∏—Ç–µ –∏–º!) –∏ –æ –ø—Ä–æ–µ–∫—Ç–µ üìù\n\n" \
    "5. –í—ã–∑–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É */rules* –∏ –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–∞–≤–∏–ª–∞—Ö –æ—Ü–µ–Ω–∏–≤–∞–Ω–∏—è –∏ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞ üìÉ\n"

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤, –¥–æ–±–∞–≤–ª—è–µ–º–æ–µ –∑–∞ –¥–µ–Ω—å
QUESTION_PORTION = 5
